<div class="max-w-xl mx-auto mt-10 p-6 bg-white rounded-2xl shadow-lg">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
        Gerenciar Link do Sistema
    </h2>

    <!-- Dropdown -->
    <div class="mb-6">
        <label for="sistemaSelect" class="block text-gray-700 font-semibold mb-2">
            Selecione o sistema:
        </label>
        <div class="relative">
            <select id="sistemaSelect" [(ngModel)]="sistemasSelecionadoDto" (change)="carregarLink()"
                class="w-full appearance-none bg-gray-100 border border-gray-300 text-gray-800 p-3 pr-10 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <option [ngValue]="null" disabled selected>Escolha uma opção</option>

                @for (item of sistemasDto; track $index) {
                <option [ngValue]="item">
                    {{ item.sisTxNome }}
                </option>
                }
            </select>
            <div class="absolute inset-y-0 right-0 flex items-center px-2 text-gray-500 pointer-events-none">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path d="M19 9l-7 7-7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </div>
        </div>
    </div>

    <!-- Link atual -->
    <div class="mt-6">
        <label class="block text-gray-700 font-semibold mb-2">
            Link atual:
        </label>
        <input type="text" [(ngModel)]="linkAtual!.ussTxLink"
            class="w-full bg-gray-50 border border-gray-300 text-gray-800 p-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />

    </div>

    <div class="mt-6">
        <label class="block text-gray-700 font-semibold mb-2">
            Pixel do Facebook:
        </label>
        <input
            class="w-full bg-gray-50 border border-gray-300 text-gray-800 p-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            type="text" [(ngModel)]="linkAtual!.ussTxPixelFacebook" placeholder="Ex: Informe o pixel"/>
        <!-- <input type="text" [(ngModel)]="linkAtual!.ussTxLink" placeholder="Ex: 123456789012345"
            class="w-full bg-gray-50 border border-gray-300 text-gray-800 p-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" /> -->
    </div>

    <div class="mt-6">
        <label class="block text-gray-700 font-semibold mb-2">
            Link curto
        </label>

        <span>
            {{ linkEncurtado() }}
        </span>
    </div>

    <button (click)="salvarLink()"
        class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl transition-all duration-300">
        Salvar Alterações
    </button>

</div>