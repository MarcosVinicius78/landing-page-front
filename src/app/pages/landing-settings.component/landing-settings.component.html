<section class="flex justify-center p-8 gap-10">

    <!-- PREVIEW DA LANDING PAGE -->
    <div class="w-[26rem] rounded-2xl shadow-xl overflow-hidden border border-gray-200 relative landing-root"
        [ngStyle]="getBackgroundStyle()">

        <!-- Overlay opcional -->
        <!-- <div class="absolute inset-0 bg-black/30" *ngIf="config!.overlayColor"></div> -->

        <div class="relative z-10 p-6 text-center">

            <h1 class="text-white text-2xl font-bold drop-shadow-lg" [innerHTML]="config!.lacTxDescricao || ''">
            </h1>

            <div class="flex flex-col gap-3 mt-6">
                <button *ngFor="let b of config!.botoes"
                    class="btn py-3 rounded-xl font-semibold shadow transition transform hover:scale-[1.03]"
                    [ngClass]="b.bocTxAnimacao" [ngStyle]="{
            'color': b.bocTxCor,
            'background-color': b.bocTxBackgroundColor
          }" (click)="openUrl(b.bocTxUrl || '#')">
                    {{ b.bocTxDescricao }}
                </button>
            </div>

        </div>
    </div>


    <!-- √ÅREA DE CONFIGURA√á√ÉO -->
    <div
        class="p-8 w-[950px] max-h-[750px] overflow-y-auto bg-white rounded-2xl shadow-xl border border-gray-200 space-y-10">

        <!-- Cabe√ßalho -->
        <div>
            <h2 class="text-3xl font-bold text-gray-800">Configura√ß√£o da Landing Page</h2>
            <p class="text-gray-500 text-sm">Gerencie cores, textos, bot√µes e fundo da p√°gina</p>
        </div>

        <!-- Selecionar sistema -->
        <div>
            <label for="sistemaSelect" class="block text-gray-700 font-semibold mb-2">
                Selecione o sistema:
            </label>
            <div class="relative">
                <select id="sistemaSelect" [(ngModel)]="sistemasSelecionadoDto" (change)="sistemaEscolhido()"
                    class="w-full bg-gray-100 border border-gray-300 text-gray-800 p-3 pr-10 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500">

                    <option [ngValue]="null" disabled selected>Escolha uma op√ß√£o</option>

                    @for (item of sistemasDto; track $index) {
                    <option [ngValue]="item">
                        {{ item.sisTxNome }}
                    </option>
                    }
                </select>
            </div>
        </div>

        <div>
            <label class="text-gray-700 font-semibold mb-2 block">Status da Landing Page:</label>
            <input type="radio" name="lacBlAtivo" [value]="true" [(ngModel)]="config.lacBlAtivo"> Ativo
            <input type="radio" name="lacBlAtivo" [value]="false" [(ngModel)]="config.lacBlAtivo"> Inativo
        </div>

        <!-- Upload da imagem -->
        <div class="bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm">
            <h3 class="font-semibold text-lg text-gray-700 mb-4">üìÅ Imagem de Fundo</h3>

            <div class="flex items-center gap-4">
                <input type="file" class="text-sm" (change)="onFileSelected($event)">
            </div>
        </div>

        <!-- Fundo -->
        <div class="bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm">
            <h3 class="font-semibold text-lg text-gray-700 mb-4">üé® Fundo da p√°gina</h3>

            <div class="flex items-start gap-6">

                <!-- Cor -->
                <div class="flex flex-col w-40">
                    <label class="text-sm text-gray-600 mb-1">Cor de Fundo</label>
                    <input type="color" [(ngModel)]="config!.backgroundValue"
                        class="h-12 w-full rounded border border-gray-300 cursor-pointer">
                    <div>
                        <label class="text-sm text-gray-600">Tipo</label>
                        <select [(ngModel)]="config.backgroundType" class="input-default">
                            <option value="">Nenhuma</option>
                            <option value="COR">COR</option>
                            <option value="IMAGE">IMAGE</option>
                            <option value="GRADIENT">GRADIENT</option>
                        </select>
                    </div>
                </div>


                <!-- Texto -->
                <div class="flex-1">
                    <label class="text-sm text-gray-600 mb-2">Texto do Cabe√ßalho</label>
                    <angular-editor [(ngModel)]="config.lacTxDescricao" [placeholder]="'Digite aqui...'">
                    </angular-editor>
                </div>

            </div>
        </div>

        <!-- Adicionar Bot√£o -->
        <div class="bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm">
            <h3 class="font-semibold text-lg text-gray-700 mb-4">‚ûï Adicionar Bot√£o</h3>
            <button (click)="addButton()"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
                + Novo Bot√£o
            </button>
        </div>

        <!-- Lista de bot√µes -->
        <div class="bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm">

            <h3 class="font-semibold text-lg text-gray-700 mb-6">üîß Configurar Bot√µes</h3>

            <div *ngFor="let b of config!.botoes; let i = index"
                class="border border-gray-300 rounded-xl p-5 bg-white shadow-sm mb-5">

                <div class="flex justify-between items-center">
                    <h4 class="text-lg font-semibold text-gray-700">Bot√£o {{ i + 1 }}</h4>

                    <button (click)="removeButton(i)" class="text-red-600 hover:text-red-800 text-sm">
                        Remover
                    </button>
                </div>

                <div class="grid grid-cols-2 gap-4 mt-4">

                    <!-- Texto -->
                    <div>
                        <label class="text-sm text-gray-600">Texto</label>
                        <input type="text" [(ngModel)]="b.bocTxDescricao" class="input-default">
                    </div>

                    <!-- URL -->
                    <div>
                        <label class="text-sm text-gray-600">URL</label>
                        <input type="text" [(ngModel)]="b.bocTxUrl" class="input-default">
                    </div>

                    <!-- Cor do texto -->
                    <div>
                        <label class="text-sm text-gray-600">Cor do Texto</label>
                        <input type="color" [(ngModel)]="b.bocTxCor"
                            class="h-12 w-full rounded border border-gray-300 cursor-pointer">
                    </div>

                    <!-- Fundo -->
                    <div>
                        <label class="text-sm text-gray-600">Cor do Fundo</label>
                        <input type="color" [(ngModel)]="b.bocTxBackgroundColor"
                            class="h-12 w-full rounded border border-gray-300 cursor-pointer">
                    </div>

                    <!-- Anima√ß√£o -->
                    <div>
                        <label class="text-sm text-gray-600">Anima√ß√£o</label>
                        <select [(ngModel)]="b.bocTxAnimacao" class="input-default">
                            <option value="">Nenhuma</option>
                            <option value="animate-pulse">Pulse</option>
                            <option value="animate-bounce">Bounce</option>
                            <option value="animate-fade">Fade</option>
                            <option value="animate-wiggle">Wiggle</option>
                        </select>
                    </div>

                </div>
            </div>

        </div>

        <!-- Bot√£o salvar -->
        <div class="flex justify-end">
            <button [disabled]="sistemasSelecionadoDto === undefined" (click)="salvarConfig()"
                class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl shadow">
                Salvar
            </button>
        </div>
    </div>
</section>